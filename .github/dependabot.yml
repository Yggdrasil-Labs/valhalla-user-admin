# Dependabot configuration
# https://docs.github.com/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file

version: 2
updates:
  # ===== JavaScript/TypeScript (npm/yarn/pnpm) =====
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "03:00"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      prefix-development: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"
    groups:
      minor-and-patch:
        applies-to: version-updates
        update-types:
          - "minor"
          - "patch"
      dev-deps:
        patterns:
          - "eslint*"
          - "@types/*"
          - "typescript"
          - "vitest"
          - "jest*"
          - "webpack*"
          - "rollup*"
          - "vite*"

  # ===== Python (pip/poetry/pipenv) =====
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "03:20"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== Java (Maven) =====
  - package-ecosystem: "maven"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "03:40"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== Java (Gradle) =====
  - package-ecosystem: "gradle"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "03:45"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== Go (Modules) =====
  - package-ecosystem: "gomod"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "03:50"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== PHP (Composer) =====
  - package-ecosystem: "composer"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "03:55"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== .NET (NuGet) =====
  - package-ecosystem: "nuget"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "04:00"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"


  # ===== Flutter/Dart (pub) =====
  - package-ecosystem: "pub"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "04:15"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "dependencies"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== Rust (Cargo) =====
  - package-ecosystem: "cargo"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "04:20"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "dependencies"
    reviewers:
      - "Yggdrasil-Labs/reviewers"


  # ===== GitHub Actions (repo-wide) =====
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "02:30"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ§° infra"
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"

  # ===== Dockerfiles (repo root) =====
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "02:00"
      timezone: "Asia/Shanghai"
    open-pull-requests-limit: 10
    target-branch: "main"
    commit-message:
      prefix: "chore"
      include: "scope"
    labels:
      - "ğŸ“¦ deps"
    reviewers:
      - "Yggdrasil-Labs/reviewers"


# è¯´æ˜ï¼š
# - è¯­ä¹‰åŒ–æäº¤ï¼šcommit-message.prefix ç»Ÿä¸€ä½¿ç”¨ chore å‰ç¼€ï¼Œç¬¦åˆä¾èµ–/æ„å»ºå˜æ›´è¯­ä¹‰ã€‚
# - è‡ªåŠ¨æ ‡ç­¾ï¼šlabels å°†è‡ªåŠ¨ç»™ PR æ‰“ä¸Šä¾èµ–ç›¸å…³æ ‡ç­¾ï¼›å¯é…åˆè§„åˆ™å®ç°è‡ªåŠ¨åˆå¹¶ã€‚
# - Reviewerï¼šç¤ºä¾‹ä½¿ç”¨ç»„ç»‡å›¢é˜Ÿåˆ«åï¼ŒæŒ‰éœ€æ›¿æ¢ä¸ºå…·ä½“æˆå‘˜æˆ–å›¢é˜Ÿã€‚
# - æ›´æ–°é¢‘ç‡ï¼šç»Ÿä¸€ä¸º weeklyï¼Œå¹¶è®¾ç½®å‘¨ä¸€å‡Œæ™¨åˆ†æ—¶æ®µï¼Œå‡å°‘å™ªéŸ³ã€‚
# - åˆ†ç»„ï¼šå¯¹å‰ç«¯å¸¸è§ dev ä¾èµ–ä¸ minor/patch ç‰ˆæœ¬è¿›è¡Œå½’ç»„ï¼Œé™ä½ PR æ•°é‡ã€‚

